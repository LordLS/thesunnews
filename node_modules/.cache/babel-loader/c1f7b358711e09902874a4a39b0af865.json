{"ast":null,"code":"var _jsxFileName = \"/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/src/components/Navbar.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Container, Menu, Icon, Dropdown } from 'semantic-ui-react';\nimport { authAxios, authenticationService } from '../services';\nimport { NavLink } from 'react-router-dom';\nimport { api } from '../helpers/api';\nimport { ProfileMenu } from '../components/DropdownMenu';\n\nconst Navbar = () => {\n  const [user, setUser] = useState('');\n  const [error, setError] = useState(null);\n\n  const loginOut = () => {\n    authenticationService.logout();\n    window.location.reload(false);\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const res = await authAxios.get(api.auth.profile);\n        setUser(res.data.results[0]);\n      } catch (err) {\n        setError(err.message);\n      }\n    }\n\n    if (authenticationService.isAuthenticated) {\n      fetchData();\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    fixed: \"top\",\n    inverted: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/\",\n    header: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"The Sun News\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/Sports\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Sports\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/World\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"World\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/Business\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Business\"), /*#__PURE__*/React.createElement(Menu.Menu, {\n    position: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, authenticationService.isAuthenticated ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/feed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \"Feed\"), /*#__PURE__*/React.createElement(Dropdown, {\n    text: \" Profile \",\n    icon: \"user outline\",\n    pointing: true,\n    className: \"link item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    as: NavLink,\n    to: \"/userprofile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, \"My Profile\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    onClick: loginOut,\n    as: \"a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"Log out\"), /*#__PURE__*/React.createElement(Dropdown.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Dropdown.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Options\"), user.is_writer && ProfileMenu.writer, user.is_coordinator && ProfileMenu.coordinator, user.is_moderator && ProfileMenu.moderator))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/login/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"user outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 54\n    }\n  }), \" Login \")))))));\n};\n\nexport default Navbar;","map":{"version":3,"sources":["/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/src/components/Navbar.js"],"names":["React","useEffect","useState","Container","Menu","Icon","Dropdown","authAxios","authenticationService","NavLink","api","ProfileMenu","Navbar","user","setUser","error","setError","loginOut","logout","window","location","reload","fetchData","res","get","auth","profile","data","results","err","message","isAuthenticated","is_writer","writer","is_coordinator","coordinator","is_moderator","moderator"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {\n    Container,\n    Menu,\n    Icon,\n    Dropdown\n  } from 'semantic-ui-react';\nimport {authAxios, authenticationService} from '../services'\nimport {NavLink} from 'react-router-dom';\nimport {api} from '../helpers/api'\nimport {ProfileMenu} from '../components/DropdownMenu'\n\n\nconst Navbar = () => {\n    const [user, setUser] = useState('')\n    const [error, setError] = useState(null)\n    const loginOut = () => {\n        authenticationService.logout()\n        window.location.reload(false)\n    }\n\n    useEffect(() => {\n      async function fetchData() {\n        try {\n            const res = await authAxios.get(api.auth.profile);\n            setUser(res.data.results[0]);\n        } catch (err) {\n            setError(err.message)\n        } \n      }\n      if (authenticationService.isAuthenticated) {\n        fetchData();\n      }\n    }, [])\n\n\n\n    return (\n    <div>\n        <Menu fixed='top' inverted>\n        <Container>\n            <Menu.Item as={NavLink} to='/' header>\n            The Sun News\n            </Menu.Item>\n            <Menu.Item as={NavLink} to='/Sports'>Sports</Menu.Item>\n            <Menu.Item as={NavLink} to='/World'>World</Menu.Item>\n            <Menu.Item as={NavLink} to='/Business'>Business</Menu.Item>\n\n            <Menu.Menu position='right'>\n            {authenticationService.isAuthenticated ?\n            <>\n            \n              <Menu.Item as={NavLink} to='/feed'>Feed</Menu.Item>\n                <Dropdown text=' Profile ' icon='user outline' pointing className='link item'>\n                  <Dropdown.Menu>\n                    <Dropdown.Item as={NavLink} to='/userprofile' >My Profile</Dropdown.Item>\n                    <Dropdown.Item onClick={loginOut} as='a'>Log out</Dropdown.Item>\n                    <Dropdown.Divider />\n                    <Dropdown.Header>Options</Dropdown.Header>\n                    {user.is_writer && ProfileMenu.writer}\n                    {user.is_coordinator && ProfileMenu.coordinator}\n                    {user.is_moderator && ProfileMenu.moderator}\n                  </Dropdown.Menu>\n                  </Dropdown>\n                  \n            </>\n            :\n            <>\n            \n            <NavLink to='/login/'><Menu.Item as='li'><Icon name='user outline'/> Login </Menu.Item></NavLink>\n            </>\n            }\n            </Menu.Menu>\n\n            \n        </Container>\n        </Menu>\n    </div>\n)}\n\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}