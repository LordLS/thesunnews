{"ast":null,"code":"import _regeneratorRuntime from\"/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'antd/dist/antd.css';import React,{useEffect,useState}from'react';import{Header,Item,Divider,Icon,Grid,GridColumn,Message,Placeholder}from'semantic-ui-react';import axios from'axios';import{NavLink}from'react-router-dom';import{api}from'../helpers/api';import{parseIsoTimetoString}from'../helpers/timeConverter';var PubHome=function PubHome(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),publication=_useState2[0],setPub=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(new Date().toUTCString()),_useState6=_slicedToArray(_useState5,2),todayDate=_useState6[0],setTodayDate=_useState6[1];function getTodayDate(){setTodayDate(new Date().toUTCString());}function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(api.pub.list);case 3:res=_context.sent;setPub(res.data.results);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _fetchData.apply(this,arguments);}useEffect(function(){fetchData();//   Update Date display on Home Page\nsetInterval(getTodayDate,1000);},[]);var filter_obj_section=function filter_obj_section(objlist,section){return objlist.filter(function(a){return a.section===section;});};var row_content=function row_content(pubList,section){return filter_obj_section(pubList,section).slice(0,3).map(function(x){return/*#__PURE__*/React.createElement(Grid.Column,{key:x.id,width:5},/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/\".concat(x.section,\"/\").concat(x.id)},/*#__PURE__*/React.createElement(Item.Image,{size:\"small\",src:x.thumbnail}),/*#__PURE__*/React.createElement(Item.Content,null,/*#__PURE__*/React.createElement(Item.Header,{as:\"h2\"},x.title))),/*#__PURE__*/React.createElement(Item.Extra,null,/*#__PURE__*/React.createElement(Icon,{name:\"time\"}),\" : \",parseIsoTimetoString(x.date_time_posted),\" | \",x.section)));});};var PlaceholderForSectionRow=function PlaceholderForSectionRow(){var content=[];for(var i=0;i<3;i++){content.push(/*#__PURE__*/React.createElement(Grid.Column,{key:i,width:5},/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(Placeholder,null,/*#__PURE__*/React.createElement(Placeholder.Image,{square:true}),/*#__PURE__*/React.createElement(Placeholder.Header,null,/*#__PURE__*/React.createElement(Placeholder.Line,{length:\"short\"})),/*#__PURE__*/React.createElement(Placeholder.Line,{length:\"short\"})))));}return content.map(function(x){return x;});};return/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'left'}},/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Grid.Row,{columns:\"equal\"},/*#__PURE__*/React.createElement(GridColumn,null,/*#__PURE__*/React.createElement(Header,{disabled:true},\"Welcome to The Sun News .com\")),/*#__PURE__*/React.createElement(GridColumn,null,/*#__PURE__*/React.createElement(Header,{disabled:true},todayDate))),error&&/*#__PURE__*/React.createElement(Message,{negative:true},\" \",error,\" \"),/*#__PURE__*/React.createElement(Grid.Row,null,/*#__PURE__*/React.createElement(Grid.Column,{width:3},/*#__PURE__*/React.createElement(Header,{as:\"h2\"},\"News \")),/*#__PURE__*/React.createElement(Grid.Column,{width:13},/*#__PURE__*/React.createElement(Divider,null)),publication&&publication.length>0?publication.slice(0,2).map(function(x){return/*#__PURE__*/React.createElement(Grid.Column,{width:8,key:x.id},/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/\".concat(x.section,\"/\").concat(x.id)},/*#__PURE__*/React.createElement(Item.Image,{size:\"large\",src:x.thumbnail}),/*#__PURE__*/React.createElement(Item.Content,null,/*#__PURE__*/React.createElement(Item.Header,{as:\"h2\"},x.title))),/*#__PURE__*/React.createElement(Item.Extra,null,/*#__PURE__*/React.createElement(Icon,{name:\"time\"}),\" : \",parseIsoTimetoString(x.date_time_posted),\" | \",x.section)));}):/*#__PURE__*/React.createElement(\"p\",null,\"No Highlights at the moment ...\")),/*#__PURE__*/React.createElement(Grid.Row,null,/*#__PURE__*/React.createElement(Grid.Column,{width:3},/*#__PURE__*/React.createElement(Header,{as:\"h2\"},\"Sport\")),/*#__PURE__*/React.createElement(Grid.Column,{width:13},/*#__PURE__*/React.createElement(Divider,null)),publication&&publication.length>0?row_content(publication,'Sport'):/*#__PURE__*/React.createElement(PlaceholderForSectionRow,null)),/*#__PURE__*/React.createElement(Grid.Row,null,/*#__PURE__*/React.createElement(Grid.Column,{width:3},/*#__PURE__*/React.createElement(Header,{as:\"h2\"},\"Business \")),/*#__PURE__*/React.createElement(Grid.Column,{width:13},/*#__PURE__*/React.createElement(Divider,null)),publication&&publication.length>0?row_content(publication,'Business'):/*#__PURE__*/React.createElement(PlaceholderForSectionRow,null)),/*#__PURE__*/React.createElement(Grid.Row,null,/*#__PURE__*/React.createElement(Grid.Column,{width:3},/*#__PURE__*/React.createElement(Header,{as:\"h2\"},\"World \")),/*#__PURE__*/React.createElement(Grid.Column,{width:13},/*#__PURE__*/React.createElement(Divider,null)),publication&&publication.length>0?row_content(publication,'World'):/*#__PURE__*/React.createElement(PlaceholderForSectionRow,null))));};export default PubHome;","map":{"version":3,"sources":["/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/src/containers/Home.js"],"names":["React","useEffect","useState","Header","Item","Divider","Icon","Grid","GridColumn","Message","Placeholder","axios","NavLink","api","parseIsoTimetoString","PubHome","publication","setPub","error","setError","Date","toUTCString","todayDate","setTodayDate","getTodayDate","fetchData","get","pub","list","res","data","results","message","setInterval","filter_obj_section","objlist","section","filter","a","row_content","pubList","slice","map","x","id","thumbnail","title","date_time_posted","PlaceholderForSectionRow","content","i","push","textAlign","length"],"mappings":"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","sourcesContent":["import 'antd/dist/antd.css'\nimport React, {useEffect, useState} from 'react'\nimport {Header, Item, Divider, Icon, Grid, GridColumn, Message, Placeholder} from 'semantic-ui-react'\nimport axios from 'axios'\nimport { NavLink } from 'react-router-dom'\nimport {api} from '../helpers/api'\nimport {parseIsoTimetoString} from '../helpers/timeConverter'\n\n\n\nconst PubHome = () => {\n  const [publication, setPub] = useState()\n  const [error, setError] = useState(null)\n  const [todayDate, setTodayDate] = useState(new Date().toUTCString())\n\n  function getTodayDate() {\n    setTodayDate(new Date().toUTCString()) \n}\n\nasync function fetchData() {\n    try {\n        const res = await axios.get(api.pub.list);\n        setPub(res.data.results);\n    } catch (err) {\n        setError(err.message)\n    } \n  }\n\n  useEffect(() => {\n      \n      fetchData();\n    //   Update Date display on Home Page\n      setInterval(getTodayDate, 1000)\n    }, [])\n\n    const filter_obj_section =(objlist, section) => {\n        return objlist.filter(function(a) {\n            return a.section === section \n        })\n        \n    }   \n\n    const row_content = (pubList, section) => {\n            return (\n                filter_obj_section(pubList, section).slice(0, 3).map(x => {\n                return(\n                    <Grid.Column key={x.id} width={5}>\n                        <Item >\n                        <NavLink to={`/${x.section}/${x.id}`}><Item.Image size=\"small\" src={x.thumbnail} />\n                                <Item.Content>\n                               <Item.Header as='h2'>{x.title}</Item.Header>\n                                </Item.Content></NavLink>\n                                <Item.Extra><Icon name='time'/> : {parseIsoTimetoString(x.date_time_posted)} | {x.section}</Item.Extra>\n\n                        </Item>\n                    </Grid.Column>\n                )   \n                }))\n\n    }\n\n    const PlaceholderForSectionRow = () => {\n        let content = []\n        for(let i = 0; i < 3; i++){\n            content.push(\n                <Grid.Column key={i} width={5}>\n                        <Item >\n                        <Placeholder>\n                            <Placeholder.Image square />\n                                <Placeholder.Header>\n                                <Placeholder.Line length='short' />\n                                </Placeholder.Header>\n                                <Placeholder.Line length='short' />    \n                                </Placeholder>\n                        </Item>\n                    </Grid.Column>\n            )\n        }\n        return content.map(x => x)\n    }\n\n    \n\n    \n    \n  return(\n    <div style={{ textAlign: 'left'}}>\n        <Grid>\n            <Grid.Row columns='equal'>\n                <GridColumn >\n                    <Header disabled>Welcome to The Sun News .com</Header>\n                    </GridColumn>\n                    <GridColumn>\n                    <Header disabled>{todayDate}</Header>\n                    </GridColumn>\n            </Grid.Row>\n            {error && <Message negative> {error} </Message>}\n      \n\n            <Grid.Row>\n                <Grid.Column width={3}>\n                    <Header as='h2'>News </Header>\n                </Grid.Column>\n                <Grid.Column width={13}>\n                    <Divider />\n                </Grid.Column>\n                {publication && publication.length > 0 ?\n                    publication.slice(0,2).map(x => {\n                        return(\n                            <Grid.Column width={8} key={x.id}>\n                                <Item>\n                                <NavLink to={`/${x.section}/${x.id}`}><Item.Image size=\"large\" src={x.thumbnail} />\n                                    <Item.Content>\n                                        <Item.Header as='h2'>{x.title}</Item.Header> \n                                    </Item.Content></NavLink>\n                                    <Item.Extra><Icon name='time'/> : {parseIsoTimetoString(x.date_time_posted)} | {x.section}</Item.Extra>\n                                </Item>\n                            </Grid.Column>\n                        )\n                    })\n                :\n                <p>No Highlights at the moment ...</p>\n                }\n            </Grid.Row>\n\n            <Grid.Row>\n                <Grid.Column width={3}>\n                    <Header as='h2'>Sport</Header>\n                </Grid.Column>\n                <Grid.Column width={13}>\n                    <Divider />\n                </Grid.Column>\n            {publication && publication.length > 0 ? row_content(publication, 'Sport') : <PlaceholderForSectionRow />}\n            </Grid.Row>\n\n            <Grid.Row>\n                <Grid.Column width={3}>\n                    <Header as='h2'>Business </Header>\n                </Grid.Column>\n                <Grid.Column width={13}>\n                    <Divider />\n                </Grid.Column>\n                {publication && publication.length > 0 ? row_content(publication, 'Business'): <PlaceholderForSectionRow />}\n            </Grid.Row>\n\n            <Grid.Row>\n                <Grid.Column width={3}>\n                        <Header as='h2'>World </Header>\n                    </Grid.Column>\n                    <Grid.Column width={13}>\n                        <Divider />\n                    </Grid.Column>\n                    {publication && publication.length > 0 ? row_content(publication, 'World'): <PlaceholderForSectionRow />}\n            </Grid.Row>\n\n        </Grid>\n      \n    </div>\n  )\n}\nexport default PubHome;"]},"metadata":{},"sourceType":"module"}