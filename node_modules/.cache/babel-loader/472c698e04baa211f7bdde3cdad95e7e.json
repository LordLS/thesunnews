{"ast":null,"code":"import _slicedToArray from\"/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Button,Form,Grid,Header,Message,Segment,Icon,Input}from'semantic-ui-react';import{history}from'../helpers';import{authenticationService}from'../services';import{Redirect,NavLink}from'react-router-dom';var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];function handleSubmit(e){e.preventDefault();setLoading(true);authenticationService.login(email,password).then(function(res){console.log(res.data);setLoading(true);history.push('/');window.location.reload(false);}).catch(function(err){console.log(err.message);setError(err.message);setLoading(false);});}if(authenticationService.isAuthenticated){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}return/*#__PURE__*/React.createElement(Grid,{textAlign:\"center\",style:{height:'100vh'}},/*#__PURE__*/React.createElement(Grid.Column,{style:{maxWidth:450}},/*#__PURE__*/React.createElement(Header,{as:\"h2\",color:\"blue\",textAlign:\"center\"},\"Log-in\"),error&&/*#__PURE__*/React.createElement(Message,{negative:true},\"The email or password you have entered isn't valid. Please check your credentials and try again.\",/*#__PURE__*/React.createElement(\"p\",null,error)),/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit,size:\"large\"},/*#__PURE__*/React.createElement(Segment,{stacked:true},/*#__PURE__*/React.createElement(Form.Input,{type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},fluid:true,icon:\"user\",iconPosition:\"left\",placeholder:\"E-mail address\",value:email}),/*#__PURE__*/React.createElement(Form.Input,{control:Input,onChange:function onChange(e){return setPassword(e.target.value);},fluid:true,icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",type:\"password\",value:password}),/*#__PURE__*/React.createElement(Button,{loading:loading,disabled:loading,color:\"blue\",fluid:true,size:\"large\"},\"Login\"))),/*#__PURE__*/React.createElement(Message,null,\"New to us? \",/*#__PURE__*/React.createElement(NavLink,{to:\"/signup/\"},\" \",/*#__PURE__*/React.createElement(Icon,{name:\"signup\"}),\"Sign Up\"))));};export default Login;","map":{"version":3,"sources":["/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/src/containers/Login.js"],"names":["React","useState","Button","Form","Grid","Header","Message","Segment","Icon","Input","history","authenticationService","Redirect","NavLink","Login","email","setEmail","password","setPassword","loading","setLoading","error","setError","handleSubmit","e","preventDefault","login","then","res","console","log","data","push","window","location","reload","catch","err","message","isAuthenticated","height","maxWidth","target","value"],"mappings":"wLAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,IAAvB,CAA6BC,MAA7B,CAAqCC,OAArC,CAA8CC,OAA9C,CAAuDC,IAAvD,CAA6DC,KAA7D,KAAyE,mBAAzE,CACA,OAASC,OAAT,KAAwB,YAAxB,CACA,OAASC,qBAAT,KAAsC,aAAtC,CACA,OAASC,QAAT,CAAmBC,OAAnB,KAAkC,kBAAlC,CAGA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,eACUb,QAAQ,CAAC,EAAD,CADlB,wCACTc,KADS,eACFC,QADE,8BAEgBf,QAAQ,CAAC,EAAD,CAFxB,yCAETgB,QAFS,eAECC,WAFD,8BAGcjB,QAAQ,CAAC,KAAD,CAHtB,yCAGTkB,OAHS,eAGAC,UAHA,8BAIUnB,QAAQ,CAAC,EAAD,CAJlB,yCAIToB,KAJS,eAIFC,QAJE,eAMhB,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,cAAF,GACAL,UAAU,CAAC,IAAD,CAAV,CACAT,qBAAqB,CAACe,KAAtB,CAA4BX,KAA5B,CAAmCE,QAAnC,EACCU,IADD,CACM,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACIX,UAAU,CAAC,IAAD,CAAV,CACAV,OAAO,CAACsB,IAAR,CAAa,GAAb,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAEH,CAPL,EAOOC,KAPP,CAOa,SAAAC,GAAG,CAAI,CACZR,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACC,OAAhB,EACAhB,QAAQ,CAACe,GAAG,CAACC,OAAL,CAAR,CACAlB,UAAU,CAAC,KAAD,CAAV,CACH,CAXL,EAYH,CAED,GAAIT,qBAAqB,CAAC4B,eAA1B,CAA2C,CACvC,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACH,CAED,mBACE,oBAAC,IAAD,EAAM,SAAS,CAAC,QAAhB,CAAyB,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAV,CAAhC,eACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAE,CAAEC,QAAQ,CAAE,GAAZ,CAApB,eACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,CAAgB,KAAK,CAAC,MAAtB,CAA6B,SAAS,CAAC,QAAvC,WADF,CAIGpB,KAAK,eAAI,oBAAC,OAAD,EAAS,QAAQ,KAAjB,kHAEP,6BAAIA,KAAJ,CAFO,CAJZ,cAQE,oBAAC,IAAD,EAAM,QAAQ,CAAEE,YAAhB,CAA8B,IAAI,CAAC,OAAnC,eACE,oBAAC,OAAD,EAAS,OAAO,KAAhB,eACE,oBAAC,IAAD,CAAM,KAAN,EAAY,IAAI,CAAC,OAAjB,CAAyB,QAAQ,CAAE,kBAAAC,CAAC,QAAIR,CAAAA,QAAQ,CAACQ,CAAC,CAACkB,MAAF,CAASC,KAAV,CAAZ,EAApC,CAAkE,KAAK,KAAvE,CAAwE,IAAI,CAAC,MAA7E,CAAoF,YAAY,CAAC,MAAjG,CAAwG,WAAW,CAAC,gBAApH,CAAqI,KAAK,CAAE5B,KAA5I,EADF,cAEE,oBAAC,IAAD,CAAM,KAAN,EACE,OAAO,CAAEN,KADX,CAEE,QAAQ,CAAE,kBAAAe,CAAC,QAAIN,CAAAA,WAAW,CAACM,CAAC,CAACkB,MAAF,CAASC,KAAV,CAAf,EAFb,CAGE,KAAK,KAHP,CAIE,IAAI,CAAC,MAJP,CAKE,YAAY,CAAC,MALf,CAME,WAAW,CAAC,UANd,CAOE,IAAI,CAAC,UAPP,CAQE,KAAK,CAAE1B,QART,EAFF,cAaE,oBAAC,MAAD,EAAQ,OAAO,CAAEE,OAAjB,CAA0B,QAAQ,CAAEA,OAApC,CAA6C,KAAK,CAAC,MAAnD,CAA0D,KAAK,KAA/D,CAAgE,IAAI,CAAC,OAArE,UAbF,CADF,CARF,cA2BE,oBAAC,OAAD,iCACa,oBAAC,OAAD,EAAS,EAAE,CAAC,UAAZ,mBAAwB,oBAAC,IAAD,EAAM,IAAI,CAAC,QAAX,EAAxB,WADb,CA3BF,CADF,CADF,CAmCC,CA9DL,CAgEA,cAAeL,CAAAA,KAAf","sourcesContent":["import React, {useState} from 'react'\nimport { Button, Form, Grid, Header, Message, Segment, Icon, Input} from 'semantic-ui-react'\nimport { history } from '../helpers'\nimport { authenticationService } from '../services'\nimport { Redirect, NavLink } from 'react-router-dom'\n\n\nconst Login = () => {\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState('')\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        setLoading(true)\n        authenticationService.login(email, password)\n        .then(res => {\n            console.log(res.data)\n                setLoading(true)\n                history.push('/')\n                window.location.reload(false)\n                \n            }).catch(err => {\n                console.log(err.message)\n                setError(err.message)\n                setLoading(false)\n            })\n    }\n\n    if (authenticationService.isAuthenticated) {\n        return <Redirect to='/' />\n    }\n\n    return (\n      <Grid textAlign='center' style={{ height: '100vh' }}>\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as='h2' color='blue' textAlign='center'>\n          Log-in\n          </Header>\n          {error && <Message negative>\n            The email or password you have entered isn't valid. Please check your credentials and try again.\n             <p>{error}</p> \n             </Message> }\n          <Form onSubmit={handleSubmit} size='large'>\n            <Segment stacked>\n              <Form.Input type='email' onChange={e => setEmail(e.target.value)} fluid icon='user' iconPosition='left' placeholder='E-mail address' value={email} />\n              <Form.Input\n                control={Input}\n                onChange={e => setPassword(e.target.value)}\n                fluid\n                icon='lock'\n                iconPosition='left'\n                placeholder='Password'\n                type='password'\n                value={password}\n              />\n\n              <Button loading={loading} disabled={loading} color='blue' fluid size='large'>\n                Login\n              </Button>\n            </Segment>\n          </Form>\n          <Message>\n            New to us? <NavLink to='/signup/'> <Icon name='signup' />Sign Up</NavLink>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    )\n    }\n\nexport default Login"]},"metadata":{},"sourceType":"module"}