{"ast":null,"code":"var _jsxFileName = \"/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/src/components/Navbar.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Container, Menu, Input, Icon, Dropdown } from 'semantic-ui-react';\nimport { history } from '../helpers/history';\nimport { authAxios, authenticationService } from '../services';\nimport { NavLink } from 'react-router-dom';\nimport { api } from '../helpers/api';\nimport { ProfileMenu } from '../components/DropdownMenu';\n\nconst Navbar = () => {\n  const [user, setUser] = useState('');\n  const [error, setError] = useState(null);\n\n  const loginOut = () => {\n    authenticationService.logout();\n    window.location.reload(false);\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const res = await authAxios.get(api.auth.profile);\n        setUser(res.data.results[0]);\n      } catch (err) {\n        setError(err.message);\n      }\n    }\n\n    if (authenticationService.isAuthenticated) {\n      fetchData();\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    fixed: \"top\",\n    inverted: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"The Sun News\"), authenticationService.isAuthenticated ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu.Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    text: \" Profile \",\n    icon: \"user outline\",\n    pointing: true,\n    className: \"link item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    as: NavLink,\n    to: \"/userprofile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"My Profile\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    onClick: loginOut,\n    as: \"a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"Log out\"), /*#__PURE__*/React.createElement(Dropdown.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Dropdown.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, \"Options\"), user.is_writer && ProfileMenu.writer, user.is_coordinator && ProfileMenu.coordinator, user.is_moderator && ProfileMenu.moderator)))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/login/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"user outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 54\n    }\n  }), \" Login \"))), /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/feed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/feed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Sports\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/feed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"World\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    as: NavLink,\n    to: \"/feed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Business\"), /*#__PURE__*/React.createElement(Menu.Menu, {\n    position: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    style: {\n      height: '2.5em'\n    },\n    placeholder: \"Search...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }))))));\n};\n\nexport default Navbar;","map":{"version":3,"sources":["/Users/clintonm/Desktop/FS_PROJECT/TheSunNews/frontend/thesunnews/src/components/Navbar.js"],"names":["React","useEffect","useState","Container","Menu","Input","Icon","Dropdown","history","authAxios","authenticationService","NavLink","api","ProfileMenu","Navbar","user","setUser","error","setError","loginOut","logout","window","location","reload","fetchData","res","get","auth","profile","data","results","err","message","isAuthenticated","is_writer","writer","is_coordinator","coordinator","is_moderator","moderator","height"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {\n    Container,\n    Menu,\n    Input,\n    Icon,\n    Dropdown\n  } from 'semantic-ui-react';\nimport {history} from '../helpers/history'\nimport {authAxios, authenticationService} from '../services'\nimport {NavLink} from 'react-router-dom';\nimport {api} from '../helpers/api'\nimport {ProfileMenu} from '../components/DropdownMenu'\n\n\nconst Navbar = () => {\n    const [user, setUser] = useState('')\n    const [error, setError] = useState(null)\n    const loginOut = () => {\n        authenticationService.logout()\n        window.location.reload(false)\n    }\n\n    useEffect(() => {\n      async function fetchData() {\n        try {\n            const res = await authAxios.get(api.auth.profile);\n            setUser(res.data.results[0]);\n        } catch (err) {\n            setError(err.message)\n        } \n      }\n      if (authenticationService.isAuthenticated) {\n        fetchData();\n      }\n    }, [])\n\n\n\n    return (\n    <div>\n        <Menu fixed='top' inverted>\n        <Container>\n            <Menu.Item as={NavLink} to='/'>\n            The Sun News\n            </Menu.Item>\n            {authenticationService.isAuthenticated ?\n            <>\n            <Menu.Menu>\n                <Dropdown text=' Profile ' icon='user outline' pointing className='link item'>\n                  <Dropdown.Menu>\n                    <Dropdown.Item as={NavLink} to='/userprofile' >My Profile</Dropdown.Item>\n                    <Dropdown.Item onClick={loginOut} as='a'>Log out</Dropdown.Item>\n                    <Dropdown.Divider />\n                    <Dropdown.Header>Options</Dropdown.Header>\n                    {user.is_writer && ProfileMenu.writer}\n                    {user.is_coordinator && ProfileMenu.coordinator}\n                    {user.is_moderator && ProfileMenu.moderator}\n                  </Dropdown.Menu>\n                  </Dropdown>\n                  </Menu.Menu>\n            </>\n            :\n            <>\n            <NavLink to='/login/'><Menu.Item as='li'><Icon name='user outline'/> Login </Menu.Item></NavLink>\n            </>\n            }\n            <Menu.Item as={NavLink} to='/feed'>Home</Menu.Item>\n            <Menu.Item as={NavLink} to='/feed'>Sports</Menu.Item>\n            <Menu.Item as={NavLink} to='/feed'>World</Menu.Item>\n            <Menu.Item as={NavLink} to='/feed'>Business</Menu.Item>\n\n            <Menu.Menu position='right'>\n            <Menu.Item ><Input style={{height: '2.5em'}} placeholder='Search...'/></Menu.Item> \n            </Menu.Menu>\n        </Container>\n        </Menu>\n    </div>\n)}\n\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}